{"ast":null,"code":"//{\n// \tbaseUrl: \"https://around.nomoreparties.co/v1/group-12\",\n// \theaders: {\n// \t\tauthorization: \"614bb6fa-36a6-4d24-9b95-72bf17bccf61\",\n// \t\tContent: \"application/json\"\n// \t}\n//}\nexport default class Api {\n  constructor(options) {\n    // header = {authorization: , \"Content-Type\": }\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return `Error ${res.status}`;\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"GET\",\n      headers: {\n        authorization: this._headers.authorization\n      }\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"GET\",\n      headers: {\n        authorization: this._headers.authorization\n      }\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  addLike(id) {\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n      method: \"PUT\",\n      headers: {\n        authorization: this._headers.authorization\n      }\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  removeLike(id) {\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._headers.authorization\n      }\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  addCard(title, imageLink) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: this._headers.authorization,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name: title,\n        link: imageLink\n      })\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._headers.authorization\n      }\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  changeAvatar(newAvatarSrc) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._headers.authorization,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        avatar: newAvatarSrc\n      })\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n  changeUserInfo(nameInput, jobInput) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._headers.authorization,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name: nameInput.value,\n        about: jobInput.value\n      })\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n\n}","map":{"version":3,"sources":["C:/Users/minka/OneDrive/Desktop/dev/around-react/project_10/src/components/Api.js"],"names":["Api","constructor","options","_baseUrl","baseUrl","_headers","headers","_checkResponse","res","ok","json","status","getInitialCards","fetch","method","authorization","then","getUserInfo","addLike","id","removeLike","addCard","title","imageLink","body","JSON","stringify","name","link","deleteCard","changeAvatar","newAvatarSrc","avatar","changeUserInfo","nameInput","jobInput","value","about"],"mappings":"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","sourcesContent":["//{\r\n// \tbaseUrl: \"https://around.nomoreparties.co/v1/group-12\",\r\n// \theaders: {\r\n// \t\tauthorization: \"614bb6fa-36a6-4d24-9b95-72bf17bccf61\",\r\n// \t\tContent: \"application/json\"\r\n// \t}\r\n//}\r\n\r\nexport default class Api {\r\n    constructor(options) { // header = {authorization: , \"Content-Type\": }\r\n        this._baseUrl = options.baseUrl;\r\n        this._headers = options.headers;\r\n    }\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return `Error ${res.status}`;\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n                method: \"GET\",\r\n                headers: {\r\n                    authorization: this._headers.authorization\r\n                }\r\n            })\r\n            .then((res) => {\r\n                return this._checkResponse(res)\r\n            })\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n                method: \"GET\",\r\n                headers: {\r\n                    authorization: this._headers.authorization\r\n                }\r\n            })\r\n            .then((res) => {\r\n                return this._checkResponse(res);\r\n            })\r\n    }\r\n\r\n    addLike(id) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n            method: \"PUT\",\r\n            headers: {\r\n                authorization: this._headers.authorization,\r\n            }\r\n        }).then((res) => {\r\n            return this._checkResponse(res);\r\n        })\r\n    }\r\n\r\n    removeLike(id) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n            method: \"DELETE\",\r\n            headers: {\r\n                authorization: this._headers.authorization,\r\n            }\r\n        }).then((res) => {\r\n            return this._checkResponse(res);\r\n        })\r\n    }\r\n\r\n    addCard(title, imageLink) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n                method: \"POST\",\r\n                headers: {\r\n                    authorization: this._headers.authorization,\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify({\r\n                    name: title,\r\n                    link: imageLink\r\n                }),\r\n            })\r\n            .then((res) => {\r\n                return this._checkResponse(res);\r\n            })\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._baseUrl}/cards/${id}`, {\r\n                method: \"DELETE\",\r\n                headers: {\r\n                    authorization: this._headers.authorization,\r\n                }\r\n            })\r\n            .then((res) => {\r\n                return this._checkResponse(res);\r\n            })\r\n    }\r\n\r\n    changeAvatar(newAvatarSrc) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n                method: \"PATCH\",\r\n                headers: {\r\n                    authorization: this._headers.authorization,\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    avatar: newAvatarSrc,\r\n                })\r\n            })\r\n            .then((res) => {\r\n                return this._checkResponse(res);\r\n            })\r\n    }\r\n\r\n    changeUserInfo(nameInput, jobInput) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n                method: \"PATCH\",\r\n                headers: {\r\n                    authorization: this._headers.authorization,\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    name: nameInput.value,\r\n                    about: jobInput.value\r\n                })\r\n            })\r\n            .then((res) => {\r\n                return this._checkResponse(res);\r\n            })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}